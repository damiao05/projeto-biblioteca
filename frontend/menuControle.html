<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Menu de Controle – LitHub</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />

<style>

/* ===== RESET ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Work Sans", sans-serif;
}

/* ===== FUNDO ===== */
html, body {
    width: 100%;
    height: 100%;
    background: linear-gradient(to right, #b57747, #5e3211);
    display: flex;
    flex-direction: column;
}

/* ===== HEADER DINÂMICO ===== */
#header-container, #navbar-container {
    width: 100%;
    z-index: 200;
}

/* ===== ÁREA CENTRAL ===== */
main {
    margin-top: 120px;
    width: 100%;
    display: flex;
    justify-content: center;
}

/* ===== CARD PRINCIPAL ===== */
.menu-card {
    background: #f7f5e9;
    width: 550px;
    padding: 3rem 2rem;
    border-radius: 1rem;
    box-shadow: 8px 8px 90px #13162a;
    text-align: center;
}

/* ===== TÍTULO ===== */
.menu-card h1 {
    font-size: 2rem;
    margin-bottom: 2rem;
    font-weight: 800;
    color: #5e3211;
}

/* ===== BOTÕES ===== */
.menu-card button {
    width: 80%;
    padding: 14px;
    margin: 12px auto;

    background-color: #986c4a;
    color: #f7f5e9;

    border: none;
    border-radius: 0.70rem;

    font-size: 1.2rem;
    font-weight: bold;
    letter-spacing: .03rem;

    cursor: pointer;
    transition: 0.3s ease;
}

.menu-card button:hover {
    background-color: #784b28;
    box-shadow: 2px 2px 25px #b57747;
    transform: scale(1.03);
}

</style>
</head>

<body>

<!-- === HEADER E NAVBAR (DINÂMICO) === -->
<div id="header-container"></div>
<div id="navbar-container"></div>

<!-- === CARD CENTRAL === -->
<main>
    <div class="menu-card">
        <h1>Menu de Controle</h1>

        <button type="button" id="btn-cadastrar">Cadastrar Funcionário</button>
        <button type="button" id="btn-add-livro">Adicionar Livro</button>
        <button type="button" id="btn-relatorios">Relatórios</button>
    </div>
</main>

<!-- ==== SCRIPTS ==== -->
<script src="./js/jquery.min.js"></script>
<script src="js/config.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jwt-decode@3/build/jwt-decode.min.js"></script>

<script>

$(document).ready(function() {

    /* ===== CHECA LOGIN ===== */
    const token = localStorage.getItem("jwtToken");

    if (!token) {
        alert("Sessão expirada! Faça login novamente.");
        window.location.href = "login.html";
        return;
    }

    const decodedPayload = jwt_decode(token);
    const role = decodedPayload.role;

    /* ===== CARREGA NAVBAR E HEADER ===== */
    $("#navbar-container").load("template/navbar.html", function() {
        atualizaRoleNavbar(role);
    });

    $("#header-container").load("template/header.html", function() {
        atualizaRoleHeader(role);
    });

    /* ===== BOTÕES FUNCIONANDO ===== */
    $("#btn-cadastrar").on("click", function () {
        window.location.href = "cadastroFuncionario.html";
    });

    $("#btn-add-livro").on("click", function () {
        window.location.href = "cadastroLivro.html";
    });

    $("#btn-relatorios").on("click", function () {
        window.location.href = "relatorios.html";
    });

});

</script>

</body>
</html>
